<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inlägg | Ignicon AB</title>
    <meta name="description" content="Artiklar om ledarskap, grupputveckling och organisationsutveckling från Ignicon AB.">
    <link rel="canonical" href="https://ignicon.se/inlagg.html">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="Ignicon AB">
    <meta property="og:locale" content="sv_SE">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {  
            --navy: #202032;
            --orange: #E8571A;
            --white: #FFFFFF;
            --light-gray: #F8F8F6;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--white); color: var(--navy); }

        .nav { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; background: var(--navy); height: 68px; display: flex; align-items: center; padding: 0 48px; border-bottom: 1px solid rgba(255,255,255,0.06); }
        .nav-inner { width: 100%; max-width: 1200px; margin: 0 auto; display: flex; align-items: center; justify-content: space-between; }
        .nav-logo { display: flex; flex-direction: column; text-decoration: none; }
        .logo-wordmark { font-size: 17px; font-weight: 700; letter-spacing: 0.18em; color: var(--white); text-transform: uppercase; }
        .logo-wordmark span { color: var(--orange); }
        .logo-tagline { font-size: 9px; letter-spacing: 0.1em; color: var(--orange); font-style: italic; font-weight: 300; }
        .nav-links { display: flex; align-items: center; gap: 4px; list-style: none; }
        .nav-links a { display: block; padding: 8px 14px; font-size: 13px; font-weight: 500; color: rgba(255,255,255,0.65); text-decoration: none; border-radius: 4px; transition: color 0.2s, background 0.2s; }
        .nav-links a:hover { color: var(--white); background: rgba(255,255,255,0.08); }
        .nav-cta { background: var(--orange) !important; color: var(--white) !important; border-radius: 6px !important; font-weight: 600 !important; padding: 8px 20px !important; }
        .nav-cta:hover { background: #d44e16 !important; }

        .post-hero { background: var(--navy); padding: 120px 48px 60px; position: relative; overflow: hidden; }
        .post-hero-inner { max-width: 800px; margin: 0 auto; }
        .post-eyebrow { display: flex; align-items: center; gap: 16px; margin-bottom: 24px; }
        .back-link { font-size: 13px; color: rgba(255,255,255,0.45); text-decoration: none; transition: color 0.2s; }
        .back-link:hover { color: var(--orange); }
        .post-category { font-size: 11px; font-weight: 700; letter-spacing: 0.18em; color: var(--orange); text-transform: uppercase; }
        .post-hero h1 { font-size: clamp(28px, 4vw, 46px); font-weight: 700; color: var(--white); line-height: 1.15; margin-bottom: 20px; }
        .post-meta { font-size: 13px; color: rgba(255,255,255,0.4); }
        .post-meta span { margin-right: 16px; }
        .hero-bg-text { position: absolute; right: -20px; top: 50%; transform: translateY(-50%); font-size: clamp(60px, 10vw, 130px); font-weight: 900; color: rgba(255,255,255,0.03); pointer-events: none; white-space: nowrap; text-transform: uppercase; }

        .post-body { max-width: 800px; margin: 0 auto; padding: 60px 48px 80px; }
        .post-body h2 { font-size: 24px; font-weight: 700; margin: 40px 0 16px; }
        .post-body h3 { font-size: 19px; font-weight: 700; margin: 32px 0 12px; }
        .post-body p { font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 20px; }
        .post-body strong { color: var(--navy); font-weight: 700; }
        .post-body ol, .post-body ul { padding-left: 24px; margin-bottom: 20px; }
        .post-body li { font-size: 17px; line-height: 1.8; color: #333; margin-bottom: 8px; }
        .post-body a { color: var(--orange); text-decoration: none; border-bottom: 1px solid rgba(232,87,26,0.3); }
        .post-body blockquote { border-left: 3px solid var(--orange); margin: 32px 0; padding: 16px 24px; background: var(--light-gray); border-radius: 0 8px 8px 0; }
        .post-body blockquote p { color: var(--navy); font-style: italic; margin: 0; }

        .post-cta { background: var(--navy); border-radius: 12px; padding: 48px; text-align: center; max-width: 800px; margin: 0 auto 80px; }
        .post-cta h3 { font-size: 24px; font-weight: 700; color: var(--white); margin-bottom: 12px; }
        .post-cta p { color: rgba(255,255,255,0.6); font-size: 15px; margin-bottom: 28px; }
        .cta-btn { display: inline-block; background: var(--orange); color: var(--white); padding: 14px 32px; border-radius: 8px; font-weight: 700; font-size: 15px; text-decoration: none; transition: background 0.2s; }
        .cta-btn:hover { background: #d44e16; }

        .back-section { text-align: center; padding: 0 48px 60px; }
        .back-btn { display: inline-flex; align-items: center; gap: 8px; color: var(--navy); font-size: 14px; font-weight: 600; text-decoration: none; border: 2px solid rgba(0,0,0,0.15); padding: 10px 24px; border-radius: 100px; transition: all 0.2s; }
        .back-btn:hover { border-color: var(--orange); color: var(--orange); }

        footer { background: var(--navy); padding: 32px 48px; text-align: center; }
        footer p { color: rgba(255,255,255,0.4); font-size: 13px; }
        .loading { padding: 140px 48px; text-align: center; color: #999; font-size: 16px; }

        @media (max-width: 768px) {
            .nav { padding: 0 20px; }
            .nav-links { display: none; }
            .post-hero { padding: 100px 20px 48px; }
            .post-body { padding: 40px 20px 60px; }
            .post-cta { margin: 0 20px 60px; padding: 32px 24px; }
            .back-section { padding: 0 20px 48px; }
        }
    </style>
</head>
<body>

<nav class="nav">
    <div class="nav-inner">
        <a href="/index.html" class="nav-logo">
            <span class="logo-wordmark">IGNICON<span>.</span></span>
            <span class="logo-tagline">Everything Starts With A Choice</span>
        </a>
        <ul class="nav-links">
            <li><a href="/index.html#hero">Hem</a></li>
            <li><a href="/index.html#services">Tjänster</a></li>
            <li><a href="/blogg.html">Artiklar &amp; Tankar</a></li>
            <li><a href="/index.html#about">Om oss</a></li>
            <li><a href="/index.html#contact" class="nav-cta">Kontakt</a></li>
        </ul>
    </div>
</nav>

<div id="post-root"><div class="loading">Laddar inl\u00e4gg\u2026</div></div>

<footer><p>Copyright Ignicon AB 2026. Alla rättigheter förbehållna.</p></footer>

<script src="https://cdn.jsdelivr.net/npm/marked@15.0.7/marked.min.js"></script>
<script>
function parseFrontmatter(text) {
    const match = text.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
    if (!match) return { data: {}, content: text };
    const data = {};
    match[1].split('\n').forEach(line => {
        const [key, ...val] = line.split(':');
        if (key && val.length) data[key.trim()] = val.join(':').trim().replace(/^["']|["']$/g, '');
    });
    return { data, content: match[2] };
}

function formatDate(d) {
    const m = ['jan','feb','mar','apr','maj','jun','jul','aug','sep','okt','nov','dec'];
    const dt = new Date(d);
    return dt.getDate() + ' ' + m[dt.getMonth()] + ' ' + dt.getFullYear();
}

function injectArticleSchema(data, filename) {
    const schema = {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": data.title || "",
        "description": data.excerpt || "",
        "author": {
            "@type": "Person",
            "name": data.author || "Jens Hector",
            "url": "https://ignicon.se/#about",
            "jobTitle": "VD & Ledarskapsutvecklare",
            "worksFor": {
                "@type": "Organization",
                "name": "Ignicon AB"
            }
        },
        "publisher": {
            "@type": "Organization",
            "name": "Ignicon AB",
            "url": "https://ignicon.se",
            "logo": {
                "@type": "ImageObject",
                "url": "https://ignicon.se/jens-hector.jpg"
            }
        },
        "datePublished": data.date || "",
        "dateModified": data.date || "",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://ignicon.se/inlagg.html?post=" + filename
        },
        "url": "https://ignicon.se/inlagg.html?post=" + filename,
        "inLanguage": "sv-SE"
        "articleSection": data.category || "Ledarskap",
        "isPartOf": {
            "@type": "Blog",
            "name": "Artiklar & Tankar",
            "url": "https://ignicon.se/blogg.html"
        }
    };

    const scriptTag = document.createElement('script');
    scriptTag.type = 'application/ld+json';
    scriptTag.textContent = JSON.stringify(schema, null, 2);
    document.head.appendChild(scriptTag);
}

function injectBreadcrumbSchema(data, filename) {
    const schema = {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Hem",
                "item": "https://ignicon.se/"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Artiklar & Tankar",
                "item": "https://ignicon.se/blogg.html"
            },
            {
                "@type": "ListItem",
                "position": 3,
                "name": data.title || "Artikel"
            }
        ]
    };

    const scriptTag = document.createElement('script');
    scriptTag.type = 'application/ld+json';
    scriptTag.textContent = JSON.stringify(schema, null, 2);
    document.head.appendChild(scriptTag);
}

function updateMetaTags(data, filename) {
    document.title = (data.title || 'Inl\u00e4gg') + ' | Ignicon AB';

    const setMeta = (attr, key, value) => {
        let el = document.querySelector('meta[' + attr + '="' + key + '"]');
        if (!el) { el = document.createElement('meta'); el.setAttribute(attr, key); document.head.appendChild(el); }
        el.setAttribute('content', value);
    };

    setMeta('name', 'description', data.excerpt || '');
    setMeta('property', 'og:title', (data.title || '') + ' | Ignicon AB');
    setMeta('property', 'og:description', data.excerpt || '');
    setMeta('property', 'og:url', 'https://ignicon.se/inlagg.html?post=' + filename);
    setMeta('property', 'og:image', 'https://ignicon.se/jens-hector.jpg');

    let canonical = document.querySelector('link[rel="canonical"]');
    if (canonical) canonical.href = 'https://ignicon.se/inlagg.html?post=' + filename;
}

async function loadPost() {
    const filename = new URLSearchParams(window.location.search).get('post');
    if (!filename) { renderError('Inget inl\u00e4gg angivet.'); return; }

    try {
        const res = await fetch('_posts/' + filename);
        if (!res.ok) throw new Error('404');
        const text = await res.text();
        const { data, content } = parseFrontmatter(text);

        updateMetaTags(data, filename);
        injectArticleSchema(data, filename);
        injectBreadcrumbSchema(data, filename);
        renderPost(data, content);
    } catch(e) {
        renderError('Inl\u00e4gget kunde inte laddas.');
    }
}

function renderPost(data, content) {
    const html = marked.parse(content);
    const emojiMap = {'Ledarskap':'\ud83c\udf93','Grupputveckling':'\ud83d\udc65','Ledningsgrupp':'\ud83c\udfe2','Coaching':'\ud83d\udca1','Organisation':'\ud83d\udd25'};
    const emoji = emojiMap[data.category] || '\ud83d\udcd6';

    document.getElementById('post-root').innerHTML =
        '<section class="post-hero">' +
            '<div class="hero-bg-text">' + emoji + '</div>' +
            '<div class="post-hero-inner">' +
                '<div class="post-eyebrow">' +
                    '<a href="/blogg.html" class="back-link">\u2190 Alla artiklar</a>' +
                    '<span class="post-category">' + (data.category || '') + '</span>' +
                '</div>' +
                '<h1>' + (data.title || '') + '</h1>' +
                '<p class="post-meta">' +
                    '<span>' + (data.author || 'Ignicon') + '</span>' +
                    '<span>' + (data.date ? formatDate(data.date) : '') + '</span>' +
                    (data.readtime ? '<span>' + data.readtime + '</span>' : '') +
                '</p>' +
            '</div>' +
        '</section>' +
        '<article class="post-body">' + html + '</article>' +
        '<div class="post-cta">' +
            '<h3>Vill du veta mer?</h3>' +
            '<p>Vi hj\u00e4lper chefer och team att utvecklas \u2013 hela v\u00e4gen till resultat.</p>' +
            '<a href="/index.html#contact" class="cta-btn">Kontakta oss</a>' +
        '</div>' +
        '<div class="back-section">' +
            '<a href="/blogg.html" class="back-btn">\u2190 Tillbaka till alla artiklar</a>' +
        '</div>';
}

function renderError(msg) {
    document.getElementById('post-root').innerHTML = '<div class="loading">' + msg + ' <a href="/blogg.html" style="color:#E8571A">G\u00e5 tillbaka</a></div>';
}

loadPost();
</script>
</body>
</html>
